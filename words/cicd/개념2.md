# 추가적인 cicd 학습 을 위한 정리

- 병합을 할때 pull에 문제가 발생한다면 이에 대해서 merge를 받고 병합을 시도합니다.  

- cicd를 할때 code를 main에 병합하지 못하게 하는 ice상태를 적용해서 배포에 안전을 기한다. ( 여기에서는 작긴 하지만 명목상은 하는게 좋을것 같다. )

- 문제점을 발견하게 되었을때 즉시 수정에 착수한다. 코드 프리징 시간에는 main 브런치를 받아와서 제대로 작동하는지에 대해서 테스트하고 검증하는 단계를 가지게 된다. -> 이 과정이 바로 develop -> main 브런치를 옮기는 과정

- 이때 문제가 발생하는지 여부를 테스트 하기 위해서 main을 받고 이에 따른 테스트 과정을 거친다. 

- 병합한 main 브런치를 테스트 하고 배포를 하면 된다.

- 이러한 develop은 main 브런치에 맞는 테스트를 해야 하고 이 부분에 대해서 맞는 테스트를 해주어야 할 것 같다. 

- CI/CD는 인간의 관리에서 벋어나서 이 부분에 대해서 테스팅 할 수 있게 해준다.

- CI 테스트에서는 단위테스트를 진행하고 package를 진행 한 후 통합 테스트를 진행한다.

- artifact( 우리는 docker hub )를 통해서 CD 파이프 라인에서는 dev를 생성하고 통합, 보안, e2e 테스트를 거친 후 머무는 상태가 된다 그리고 마지막으로 배포가 진행이 되는 것이다. 

- 내가 공부해야 하는 방향 중에 하나가 바로 테스팅 부분이다 이부분을 업그레이드 해야 더 견고한 CI/CD가 가능하다.

- 자주 통합하라는 의미에 CI(지속 적인 통합이라고 부르는 것이다.)

- 병합을 자주 해줌으로써 한번에 병합하면서 오는 스트레스를 해소할 수 있는 것이다.

- 개발자들은 더 많이 여러번 commit 하기를 권장한다 한번에 커밋하고 푸시하면 충돌처리가 너무 스트레스 받기 때문에 따라서 신속한 commit은 매우큰 개발에 효율성을 주고 안정성을 준다.

## docker hub 개념

- Docker hub는 내가 홈페이지 원격으로 로그인 할때 access_token을 사용하는 것을 권장한다. 

- 비밀번호를 평문으로 노출하는 자동화 과정에서 사용하게 되었을때 보안 위험이 발생할 수 있기 때문이다.

- Docker는 빌드된 실행 환경 이미지를 관리하는 장소라고 생각하면 된다. 

- CI/CD에서 Docker Hub가 자주 쓰이는 이유는 빌드 결과물을 업로드 하다 보니 그걸 빌드하고 테스트를 자동화 하는 단계에서 그 빌드 이미지를 push 하는 부분에서 자주 쓰일 수 밖에 없는 것이다.

- CD 단계에서 배포에서는 Pull을 받아서 이미지를 가져와서 이에 대해서 

- dockerhub에서 이름을 지을때 dockerhub에 저장소 구조 규칙에 따라서 저장을 해야 한다. 일단 반드시 
```php-template
<dockerhub_username>/<rep_name>:<tag>
```  
- 이를 이용해서 해당 rep을 정할 수 있고 그 rep에 tag를 자유롭게 지정할 수 있다. 무조건 latest를 사용할 것이고 그 전에거를 사용하려면 따른 태그를 사용해야 한다.

